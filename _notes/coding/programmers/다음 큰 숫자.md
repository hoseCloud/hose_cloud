
#level2 #cpp #writeup #solve_it_again  
[문제](https://school.programmers.co.kr/learn/courses/30/lessons/12911)  
template : [[template of writeup]]  

## 문제 설명  

자연수 n이 주어졌을 때, n의 다음 큰 숫자는 다음과 같이 정의 합니다.  

- 조건 1. n의 다음 큰 숫자는 n보다 큰 자연수 입니다.  
- 조건 2. n의 다음 큰 숫자와 n은 2진수로 변환했을 때 1의 갯수가 같습니다.  
- 조건 3. n의 다음 큰 숫자는 조건 1, 2를 만족하는 수 중 가장 작은 수 입니다.  

예를 들어서 78(1001110)의 다음 큰 숫자는 83(1010011)입니다.  

자연수 n이 매개변수로 주어질 때, n의 다음 큰 숫자를 return 하는 solution 함수를 완성해주세요.  

## 제한 조건  

- n은 1,000,000 이하의 자연수 입니다.  

## 입출력 예  

| n   | result |  
| --- | ------ |  
| 78  | 83     |  
| 15  | 23     |  

## 풀이  

### 코드  

```  
#include <vector>  
#include <cmath>  

using namespace std;  

int solution(int n) {  
    int answer = 0;  
    int bin[20] = { };  
    int index = 0, count = 0, length = 0;  
    
    // bin에 값 넣기  
    for(int i = 0; ; i++) {  
        if(n == 1) {  
            bin[i] = 1;  
            length = i+1;  
            break;  
        }  
        bin[i] = n % 2 == 0 ? 0 : 1;  
        n /= 2;  
    }  
    // 왼쪽부터 검사해서 1 오른쪽으로 밀 수 있는지 확인  
    for(int i = 0; i < length; i++) {  
        if(bin[i] == 1) {  
            if(bin[i+1] == 0) {  
                index = i;  
                bin[i] = 0;  
                bin[i+1] = 1;  
                if(i == length-1) {  
                    length++;  
                }  
                break;  
            }  
            count++;  
        }  
    }  
    // 만약 밀었으면 이때까지 지나간 1을 다 왼쪽에 몸  
    for(int i = 0; i < index; i++) {  
        bin[i] = count > 0 ? 1 : 0;  
        count--;  
    }  
    for(int i = 0; i < length; i++) {  
        answer += bin[i] * pow(2, i);  
    }  
    
    return answer;  
}  
```  

### 설명  

주어진 숫자를 2진수로 변환하고 아래 규칙을 통해 다음 큰 숫자를 찾는다. 비트값이 큰 쪽에서 작은 쪽으로 검사한다.  

1. 만약 검사한 비트가 1이면 다음 비트가 0인지 검사한다.  
2. 다음 비트가 0이면 현재 비트를 다음 비트로 옮기고 count만큼 왼쪽 비트부터 차례대로 1을 삽입하고 과정을 끝낸다. 그렇지 않다면(다음 비트가 0) count++하고 위 과정을 반복한다.  

### 후기  

2진수 변환에 너무 시간을 뺏긴다. 다른 사람의 풀이를 보니 bitset으로도 풀 수 있었다. 시간복잡도가 마음에 안 들었지만 코드는 3줄로 엄청 간단했다. 다음에는 쉬프트 연산자와 비트 연산자로 풀어봐야겠다.  
