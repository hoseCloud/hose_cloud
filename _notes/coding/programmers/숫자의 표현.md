
#level2 #cpp #writeup  
[문제](https://school.programmers.co.kr/learn/courses/30/lessons/12924)  
template : [[template of writeup]]  

## 문제 설명  

Finn은 요즘 수학공부에 빠져 있습니다. 수학 공부를 하던 Finn은 자연수 n을 연속한 자연수들로 표현 하는 방법이 여러개라는 사실을 알게 되었습니다. 예를들어 15는 다음과 같이 4가지로 표현 할 수 있습니다.  

- 1 + 2 + 3 + 4 + 5 = 15  
- 4 + 5 + 6 = 15  
- 7 + 8 = 15  
- 15 = 15  

자연수 n이 매개변수로 주어질 때, 연속된 자연수들로 n을 표현하는 방법의 수를 return하는 solution를 완성해주세요.  

## 제한 조건  

- n은 10,000 이하의 자연수 입니다.  

## 입출력 예  

| n   | result |  
| --- | ------ |  
| 15  | 4      |  

## 풀이  

### 코드  

```  
#include <string>  

using namespace std;  

int solution(int n) {  
    int answer = 0;  
    
    int i = 1;  
    while(true) {  
        if(i % 2 == 0) {  
            if((n-(i/2))/i < i/2) break;  
            if((n-(i/2))%i == 0) answer++;  
        }  
        else {  
            if(n/i <= i/2) break;  
            if(n % i == 0) answer++;  
        }  
        i++;  
    }  
    
    return answer;  
}  
```  

### 설명  

n을 i만큼 연속된 자연수들의 합으로 표현할 때 아래 규칙을 따른다.  

1. x가 홀수일때, *n % i == 0 && (n - ( i / 2 )) / i < i / 2*를 만족하면 연속된 자연수들이 존재한다.  
2. x가 짝수일때, *(n - (i / 2)) % i == 0 && n / i <= i / 2*를 만족하면 연속된 자연수들이 존재한다.  

테스트케이스를 직접 만들어서 해본 결과를 보며 위 규칙을 찾았다. 각 규칙의 두번째 조건들은 자연수임을 보장하기 위해 추가했다.  

다른 사람의 풀이에서 신기한 방법으로 푼 사람이 있어 남긴다.  

```  
int expressions(int testCase)  
{  
    int answer=0;  
  int to=ceil((-1+sqrt(1+8*testCase))/2);  
    for(int i=1;i<=to;i++)  
  {  
    if(i%2==1&&testCase%i==0)  
    {  
      answer++;  
    }  
    else if(i%2==0&&(testCase%i)==(i/2))  
    {  
      answer++;  
    }  
  }  

    return answer;  
}  
```  
